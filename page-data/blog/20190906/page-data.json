{"componentChunkName":"component---src-templates-post-post-jsx","path":"/blog/20190906","result":{"data":{"markdownRemark":{"html":"<p><a href=\"https://storybook.js.org/docs/guides/guide-react/\" target=\"_blank\" rel=\"nofollow\">Storybook Guides</a></p>\n<p><img src=\"https://i.imgur.com/186Ecqp.png\"></p>\n<blockquote>\n<p>TDD (Test Driven Development)\n: å…ˆå¯«æ¸¬è©¦å†é–‹ç™¼ç¨‹å¼\nå®šç¾©ä¸€äº› user story åšéœ€æ±‚åˆ†æï¼Œè¦åŠƒæ’°å¯«ç¨‹å¼æ™‚æ‰€è¦å°Šå¾ªçš„ç¨‹åº</p>\n<p><img src=\"https://i.imgur.com/2gXymfv.png\"></p>\n</blockquote>\n<p>è¨»ï¼šBDD (Behavior-driven development)<br>\nå‰‡æ˜¯æ¯”èµ· TDD æ›´é€²ä¸€æ­¥ï¼Œé™¤äº†åœ¨å¯¦ä½œå‰å…ˆå¯«æ¸¬è©¦å¤–ï¼Œæ¸¬è©¦å‰é‚„è¦å…ˆå¯«é€šéè‡ªç„¶èªè¨€å®šç¾©ç³»çµ±è¡Œç‚ºçš„å¯ä»¥åŸ·è¡Œçš„è¦æ ¼</p>\n<ul>\n<li>2019/6/29 ç™¼å¸ƒ v5.1.9 èˆ‡å…ˆå‰ç‰ˆæœ¬å·®ç•°è¼ƒå¤§</li>\n<li>æ–¹ä¾¿é–‹ç™¼ UI å…ƒä»¶</li>\n<li><strong>è¦–è¦ºæ¸¬è©¦</strong>å…ƒä»¶åœ¨æ¯å€‹ç‹€æ…‹ä¸‹çš„å¤–è§€ï¼ˆä¹Ÿæœ‰<a href=\"https://www.learnstorybook.com/react/zh-TW/simple-component/\" target=\"_blank\" rel=\"nofollow\">å¿«ç…§æ¸¬è©¦</a> addonï¼‰</li>\n<li>ä½œç‚ºå…±åŒç¶­è­·çš„æ–‡ä»¶ï¼Œæ—¥å¾Œå¥½äº¤æ¥</li>\n<li>èˆ‡æ‡‰ç”¨ç¨‹å¼çš„æ¥­å‹™é‚è¼¯å’Œä¸Šä¸‹æ–‡éš”é›¢é–‹ä¾†ï¼Œè€¦åˆé«˜çš„å…ƒä»¶é›£ä»¥æŠ½å‡ºå–®ç¨é‡ç¾</li>\n<li><a href=\"https://storybook.js.org/docs/basics/live-examples/\" target=\"_blank\" rel=\"nofollow\">Live Examples</a><br><br></li>\n</ul>\n<p>åœ˜éšŠå¥½å¾ Components é–‹å§‹åˆ†å·¥ä¸¦é–‹ç™¼</p>\n<hr>\n<h2>Setup (React)</h2>\n<h3>React å°ˆæ¡ˆè‡ªå‹•è¨­å®š Storybook</h3>\n<p><code>npx -p @storybook/cli sb init --type react</code></p>\n<h3>React å°ˆæ¡ˆæ‰‹å‹•è¨­å®š Storybook</h3>\n<ol>\n<li><code>npm install @storybook/react --save-dev</code></li>\n<li>Make sure that you have <code>react</code>, <code>react-dom</code>, <code>@babel/core</code>, and <code>babel-loader</code> in your dependencies</li>\n<li><code>package.json</code> scripts add <code>\"storybook\": \"start-storybook\"</code></li>\n<li>\n<p>root add <code>.storybook/config.js</code> with</p>\n<deckgo-highlight-code language=\"javascript\"  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\" >\n          <code slot=\"code\">import { configure } from &#39;@storybook/react&#39;;\n\nfunction loadStories() {\n require(&#39;../stories/index.js&#39;);\n // You can require as many stories as you need.\n\n // æˆ–å¼•å…¥æ‰€æœ‰ç¬¦åˆè¦å‰‡æª”\n // const req = require.context(&#39;../stories&#39;, true, /\\.stories\\.js$/);\n // req.keys().forEach(filename =&gt; req(filename));\n}\n\nconfigure(loadStories, module);</code>\n        </deckgo-highlight-code>\n<p>è¨»ï¼š<a href=\"https://webpack.js.org/guides/dependency-management/#requirecontext\" target=\"_blank\" rel=\"nofollow\">require.context</a></p>\n</li>\n<li>\n<p>root add <code>stories/index.js</code> with</p>\n<deckgo-highlight-code language=\"javascript\"  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\" >\n          <code slot=\"code\">import React from &#39;react&#39;;\nimport { storiesOf } from &#39;@storybook/react&#39;;\nimport { Button } from &#39;@storybook/react/demo&#39;;\n\nstoriesOf(&#39;Button&#39;, module)\n .add(&#39;with text&#39;, () =&gt; &lt;Button&gt;Hello Button&lt;/Button&gt;)\n .add(&#39;with emoji&#39;, () =&gt; (\n   &lt;Button&gt;\n     &lt;span role=&quot;img&quot; aria-label=&quot;so cool&quot;&gt;\n       ğŸ˜€ ğŸ˜ ğŸ‘ ğŸ’¯\n     &lt;/span&gt;\n   &lt;/Button&gt;\n ));</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>run storybook <code>npm run storybook</code></p>\n<ul>\n<li>package.json script <a href=\"https://storybook.js.org/docs/configurations/cli-options/\" target=\"_blank\" rel=\"nofollow\">å¯ä»¥è¨­å®š</a> å¦‚ -p è¨­å›ºå®š port</li>\n</ul>\n</li>\n</ol>\n<h2>React + Antd + Storybook</h2>\n<p>è¦è¼‰å…¥ antd &#x26; scss æª”éœ€æ‰‹å‹•åš <a href=\"https://storybook.js.org/docs/configurations/custom-webpack-config/\" target=\"_blank\" rel=\"nofollow\"><code>webpack.config.js</code></a> è¨­å®š</p>\n<ol>\n<li>\n<p>æ–¹æ³•ä¸€\n.storybook/webpack.config.js</p>\n<deckgo-highlight-code language=\"javascript\"  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\" >\n          <code slot=\"code\">const path = require(&#39;path&#39;);\n\nmodule.exports = async ({ config, mode }) =&gt; {\n config.module.rules.push({\n   test: /\\.less$/,\n   loaders: [\n     &#39;style-loader&#39;,\n     &#39;css-loader&#39;,\n     {\n       loader: &#39;less-loader&#39;,\n       options: {\n         modifyVars: {\n         ...\n         },\n         javascriptEnabled: true,\n       },\n     },\n   ],\n });\n\n return config;\n};</code>\n        </deckgo-highlight-code>\n<p>.storybook/config.js\n<code>import 'antd/dist/antd.less';</code></p>\n</li>\n<li>\n<p>æ–¹æ³•äºŒ\n.storybook/webpack.config.js</p>\n<deckgo-highlight-code language=\"javascript\"  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\" >\n          <code slot=\"code\">const path = require(&#39;path&#39;);\n\nmodule.exports = async ({ config, mode }) =&gt; {\n config.module.rules.push({\n   loader: &#39;babel-loader&#39;,\n   exclude: /node_modules/,\n   test: /\\.(js|jsx)$/,\n   options: {\n     presets: [&#39;@babel/react&#39;],\n     plugins: [\n       [\n         &#39;import&#39;,\n         {\n           libraryName: &#39;antd&#39;,\n           libraryDirectory: &#39;es&#39;,\n           style: true,\n         },\n       ],\n     ],\n   },\n });\n\n config.module.rules.push({\n   test: /\\.less$/,\n   loaders: [\n     &#39;style-loader&#39;,\n     &#39;css-loader&#39;,\n     {\n       loader: &#39;less-loader&#39;,\n       options: {\n         modifyVars: {\n         ...\n         },\n         javascriptEnabled: true,\n       },\n     },\n   ],\n   include: [\n     path.resolve(__dirname, &#39;../src&#39;),\n     /[\\\\/]node_modules[\\\\/].*antd/,\n   ],\n });\n\n return config;\n};</code>\n        </deckgo-highlight-code>\n</li>\n</ol>\n<h4>.storybook/config.js è¼‰å…¥æª”æ¡ˆè¨­å®š</h4>\n<deckgo-highlight-code language=\"javascript\"  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\" >\n          <code slot=\"code\">import { configure } from &#39;@storybook/react&#39;;\n\nconst req = require.context(&#39;../stories&#39;, true, /\\.stories\\.js$/);\n\nfunction loadStories() {\n  // require(&#39;../stories/index.js&#39;);\n  req.keys().forEach((filename) =&gt; req(filename));\n}\n\nconfigure(loadStories, module);</code>\n        </deckgo-highlight-code>\n<h4><a href=\"https://storybook.js.org/docs/configurations/options-parameter/\" target=\"_blank\" rel=\"nofollow\">addParameters</a></h4>\n<p>è¨­ç½® Storybook ç‰ˆé¢ï¼ˆoptionalï¼‰</p>\n<h4><a href=\"https://storybook.js.org/docs/addons/introduction/\" target=\"_blank\" rel=\"nofollow\">addDecorator</a></h4>\n<p>åˆ»åˆ¶å…ƒä»¶é¡¯ç¤ºçš„å€å¡Šä½ˆæ™¯é…ç½®</p>\n<deckgo-highlight-code language=\"javascript\"  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\" >\n          <code slot=\"code\">const styles = {\n  textAlign: &#39;center&#39;,\n};\nconst CenterDecorator = (storyFn) =&gt; &lt;div style={styles}&gt;{storyFn()}&lt;/div&gt;;\naddDecorator(CenterDecorator);</code>\n        </deckgo-highlight-code>\n<h2>Using addons</h2>\n<p>å¸¸ç”¨æ“´å…… storybook åŠŸèƒ½åƒæ˜¯ï¼šçœ‹äº‹ä»¶è§¸ç™¼ã€çœ‹å…ƒä»¶ notesã€<a href=\"https://www.npmjs.com/package/@storybook/addon-knobs\" target=\"_blank\" rel=\"nofollow\">çœ‹å…ƒä»¶ properties å®šç¾©</a>ï¼ˆé ˆå…ˆå¯«å¥½ storiesï¼‰</p>\n<ol>\n<li><code>npm install @storybook/addons @storybook/addon-actions @storybook/addon-knobs @storybook/addon-notes</code></li>\n<li>add <code>.storybook/addons.js</code> with</li>\n</ol>\n<deckgo-highlight-code language=\"javascript\"  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\" >\n          <code slot=\"code\">// ç‰ˆé¢åŠŸèƒ½ Tab é †åºè·Ÿ import é †åºæœ‰é—œ\nimport &#39;@storybook/addon-actions/register&#39;; // å¯å¯«è§¸ç™¼äº‹ä»¶log\nimport &#39;@storybook/addon-knobs/register&#39;; // å¯å¯«propså®šç¾©é è¨­å€¼ä¸¦è¼¸å…¥ä¿®æ”¹\nimport &#39;@storybook/addon-notes/register&#39;; // å¯å¯«èªªæ˜ç­†è¨˜\nimport &#39;@storybook/addon-storysource/register&#39;; // å¯çœ‹ä½¿ç”¨çš„storiesç‰‡æ®µç¨‹å¼ç¢¼(è¨»)</code>\n        </deckgo-highlight-code>\n<p>è¨» .storybook/webpack.config.js</p>\n<deckgo-highlight-code language=\"javascript\"  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\" >\n          <code slot=\"code\">config.module.rules.push({\n  test: /\\.stories\\.jsx?$/,\n  loaders: [\n    {\n      loader: require.resolve(&#39;@storybook/addon-storysource/loader&#39;),\n      options: {\n        prettierConfig: {\n          printWidth: 100,\n          singleQuote: false,\n        },\n      },\n    },\n  ],\n  enforce: &#39;pre&#39;,\n});</code>\n        </deckgo-highlight-code>\n<p><a href=\"https://storybook.js.org/addons/\" target=\"_blank\" rel=\"nofollow\">addon gallery</a> å¯ä»¥å°‹æ‰¾é©åˆçš„ addons\næ²’é©åˆçš„ä¹Ÿå¯ä»¥<a href=\"https://storybook.js.org/docs/addons/writing-addons/\" target=\"_blank\" rel=\"nofollow\">è‡ªå·±å¯« addon</a></p>\n<hr>\n<h2>é‡åˆ°å•é¡Œ</h2>\n<ol>\n<li>å…ƒä»¶æ‰€éœ€ localstorage</li>\n<li>HOC å…ƒä»¶</li>\n<li>ç„¡æ³•è¼•æ˜“å°‡æœ‰å®¹å™¨ container çš„ component å–®ç¨æŠ½å‡º</li>\n</ol>","timeToRead":4,"frontmatter":{"title":"åˆæ¢ Storybook","date":"06 Sep 2019","tags":["javascript"],"path":"blog/20190906","excerpt":"åˆæ¢é€™æ¬¾èƒ½å¤ åœ¨é–‹ç™¼å‰ç«¯å…ƒä»¶æˆ–æ˜¯å‡½å¼åº«çš„åŒæ™‚ï¼Œå¯ä»¥å¿«é€Ÿåœ°å»ºç«‹å…ƒä»¶å„ç¨®æ“ä½œæ¨¡å¼æˆ–æ˜¯æ¨£å¼çš„å·¥å…·ã€‚"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"path":"blog/20170508","title":"WebForm åœ–ç‰‡ä¸Šå‚³æª¢æŸ¥","tags":["asp.net"],"excerpt":"é–‹æ”¾ä¸Šå‚³æœ‰å¯èƒ½è¢«å‚³å¥‡æ€ªæ±è¥¿çš„é¢¨éšªï¼Œåªæª¢æŸ¥æ‰€çœ‹åˆ°çš„å‰¯æª”åï¼Œè¬¹æ…ä¾†èªªä¼¼ä¹æ˜¯ä¸å¤ çš„ã€‚"}}},{"node":{"frontmatter":{"path":"blog/20170421","title":"å­˜å–é ç«¯ EventLog","tags":["asp.net","javascript"],"excerpt":"åœ¨å…¬å¸ä¸­å¯¦ä½œä¸€å€‹ Event log çš„æŸ¥è©¢å·¥å…·ã€‚ï¼ˆä¹‹å¾Œä¾†å¯«äº† D3 å‘ˆç¾æŸ¥è©¢ç•°å¸¸æŸ¥è©¢çš„éƒ¨åˆ†ï¼‰"}}},{"node":{"frontmatter":{"path":"blog/20170604","title":"Web App æ¨æ’­é€šçŸ¥","tags":["asp.net"],"excerpt":"éš¨è‘—è¡Œå‹•å’Œç©¿è¼‰è£ç½®çš„èˆˆèµ·ï¼Œæ¨æ’­é€šçŸ¥ (Push Notification) æˆç‚ºç¶­ç¹«Appç”¨æˆ¶é—œä¿‚ç›¸ç•¶æœ‰åŠ›çš„å·¥å…·"}}},{"node":{"frontmatter":{"path":"blog/20170714","title":"WebForm ä½¿ç”¨ reCAPTCHA é©—è­‰","tags":["asp.net"],"excerpt":"é€™å€‹æˆ‘ä¸æ˜¯æ©Ÿå™¨äººé©—è­‰ä¸€å®šä¸é™Œç”Ÿï¼Œæ»¿å¤šç™»å…¥ç•«é¢æœƒçœ‹åˆ°çš„ï¼Œå‰›å¥½ä»Šå¤©æ¥åˆ°æŠŠåœ–å½¢é©—è­‰æ”¹ç‚º reCAPTCHA å°±é †æ‰‹è¨˜ä¸‹ã€‚"}}},{"node":{"frontmatter":{"path":"blog/20170728","title":"WebForm è¨»å†Š JavaScript","tags":["asp.net","javascript"],"excerpt":"å‹•æ…‹ç”¢ç”ŸJSåœ¨ç›®å‰å…¬å¸å°ˆæ¡ˆä¸­æ˜¯æ»¿å¸¸ç”¨åˆ°çš„å°æŠ€å·§ï¼Œä¸åŒçš„ç”¨æ³•æœƒç”¢ç”Ÿåœ¨Web Page çš„ä¸åŒä½ç½®è€Œæœ‰ç›´è­¯å¼èªè¨€çš„å‰å¾Œé †åºå·®ã€‚"}}},{"node":{"frontmatter":{"path":"blog/20180514","title":"JavaScript ä¸­ this æŒ‡å‘","tags":["javascript"],"excerpt":"ç°¡ä»‹ this æŒ‡å‘çš„å…­ç¨®æƒ…æ³ã€‚"}}},{"node":{"frontmatter":{"path":"blog/20190108","title":"JavaScript èªè­˜éåŒæ­¥ Callback, Promise, async/await","tags":["javascript"],"excerpt":"Asynchronous éåŒæ­¥çš„ä¸åŒå¯«æ³•çš„æ•´ç†ç­†è¨˜ã€‚"}}},{"node":{"frontmatter":{"path":"blog/20190707","title":"JavaScript HTML5 Web Worker & CRA ä½¿ç”¨è¸©é›·","tags":["javascript"],"excerpt":"JavaScript æ˜¯å–®åŸ·è¡Œç·’ã€å–®ç·šç¨‹çš„ç¨‹å¼èªè¨€ï¼Œæ‰€æœ‰çš„ç¨‹å¼ç¢¼ç‰‡æ®µéƒ½æœƒåœ¨å †ç–Šä¸­è¢«åŸ·è¡Œï¼ŒWeb worker ç›¸ç•¶æ–¼å¯è®“ä¸»ç·šç¨‹é–‹å…¶ä»– threadã€‚"}}},{"node":{"frontmatter":{"path":"blog/20180521","title":"Web å¸¸è¦‹æ”»æ“Šæ‰‹æ³•","tags":["security"],"excerpt":"æ“æœ‰åŸºæœ¬çš„è³‡å®‰è§€å¿µä¿è­·å¥½è‡ªå®¶è³‡æ–™å’Œ user ä½¿ç”¨ç’°å¢ƒæ˜¯é–‹ç™¼äººå“¡é‡è¦çš„ä¸€é»ã€‚"}}},{"node":{"frontmatter":{"path":"blog/20191107","title":"Javascript Event loop - macro task & micro task","tags":["javascript"],"excerpt":"ä»‹ç´¹ Event loop å®¹æ˜“æ··æ·†çš„ç•°æ­¥ä»»å‹™ macro task & micro taskã€‚"}}},{"node":{"frontmatter":{"path":"blog/20210109-3","title":"REST / RESTful & HTTP Methods","tags":["javascript"],"excerpt":"ç°¡æ˜“æ•´ç†ã€‚"}}},{"node":{"frontmatter":{"path":"blog/20210109-2","title":"IntersectionObserver","tags":["javascript"],"excerpt":"å…¬å¸å°ˆæ¡ˆæœ‰å€‹æ—¥æœŸé€£å‹•çš„ scroll å„ªåŒ–è©¦é©—ï¼ŒåŸå…ˆæ˜¯ç›£è½ scrollã€‚"}}},{"node":{"frontmatter":{"path":"blog/20210110","title":"Pop Quiz","tags":["javascript"],"excerpt":"è¨˜éŒ„è¸©åˆ°çš„é™·é˜±é¡Œã€‚"}}},{"node":{"frontmatter":{"path":"blog/20190907","title":"GraphQL & Apollo Client","tags":["apollo"],"excerpt":"ç°¡å–®ä»‹ç´¹ React Client ç«¯å¦‚ä½•ç”¨ Apollo å° GraphQL Server åšè³‡æ–™å­˜å–æ“ä½œã€‚"}}},{"node":{"frontmatter":{"path":"blog/20200518","title":"å¸¸ç”¨ NoSQL é›²ç«¯è³‡æ–™åº« - Part 1 MongoDB","tags":["mongodb"],"excerpt":"ç°¡ä»‹ Relational/NoSQL databaseã€mongoose ORM å¯« mongo CRUD APIã€‚"}}},{"node":{"frontmatter":{"path":"blog/20191125","title":"åˆæ¢ RxJSï¼ˆä¸‹ï¼‰","tags":["rxjs"],"excerpt":"ç°¡ä»‹ä¸Šæ¬¡æœªå®Œçš„ RxJS å‰©é¤˜è§’è‰²ï¼Œå’Œä»‹ç´¹ç›®å‰å…¬å¸å¾Œå°å°ˆæ¡ˆä½¿ç”¨çš„ redux-observableã€‚"}}},{"node":{"frontmatter":{"path":"blog/20190906-2","title":"React Hooks - useCallback, useMemo, useRef","tags":["reactjs"],"excerpt":"JavaScript æ˜¯å–®åŸ·è¡Œç·’ã€å–®ç·šç¨‹çš„ç¨‹å¼èªè¨€ï¼Œæ‰€æœ‰çš„ç¨‹å¼ç¢¼ç‰‡æ®µéƒ½æœƒåœ¨å †ç–Šä¸­è¢«åŸ·è¡Œï¼ŒWeb worker ç›¸ç•¶æ–¼å¯è®“ä¸»ç·šç¨‹é–‹å…¶ä»– threadã€‚"}}},{"node":{"frontmatter":{"path":"blog/20210109","title":"Response Set-Cookie ç„¡æ•ˆ","tags":["apollo"],"excerpt":"è¨˜éŒ„å€‹ä¹‹å‰åœ¨å’ŒåŒäº‹å€‘å¼„ Side project æ™‚çŠ¯è ¢é‡åˆ°çš„å•é¡Œèˆ‡è§£æ±ºæ–¹å¼ã€‚"}}},{"node":{"frontmatter":{"path":"blog/20191017","title":"åˆæ¢ RxJSï¼ˆä¸Šï¼‰","tags":["rxjs"],"excerpt":"ç°¡ä»‹ç›¸é—œçš„è¨­è¨ˆæ¨¡å¼ä¸­çš„ Behavioral Patternï¼Œå†ä»‹ç´¹ RxJSï¼ˆå…ˆè¬› Observableï¼‰"}}},{"node":{"frontmatter":{"path":"blog/20200527","title":"å¸¸ç”¨ NoSQL é›²ç«¯è³‡æ–™åº« - Part 2 Firebase","tags":["firebase"],"excerpt":"ç°¡ä»‹ Google æä¾›çš„å¾Œç«¯æœå‹™å¹³è‡ºï¼ˆBaaSï¼‰ä¸­çš„å…©ç¨® DBï¼Œrealtime database å’Œ cloud firestoreã€‚"}}},{"node":{"frontmatter":{"path":"blog/20200630","title":"Express - Authentication, Authorization and Security","tags":["security","express"],"excerpt":"ç°¡ä»‹ Express RESTful API Server ç¯„ä¾‹ä¸­ JWT æ¬Šé™ã€æˆæ¬Šç›¸é—œã€‚"}}},{"node":{"frontmatter":{"path":"blog/20200910","title":"Apollo Server å…¥é–€ç¯‡","tags":["apollo"],"excerpt":"å¿«é€Ÿè¤‡ç¿’å»å¹´åˆ†äº«çš„ GraphQL Schema å’Œ Client query èªæ³•ï¼Œä¸¦ç°¡ä»‹å¦‚ä½•ä»¥ Apollo Server å»ºç«‹ GraphQL Serverã€‚"}}},{"node":{"frontmatter":{"path":"blog/20190909","title":"Prisma - Schema, Data Model, Relations, Client","tags":["prisma"],"excerpt":"æœªä¾† Side project å¯èƒ½æœƒæ‡‰ç”¨åˆ°çš„ SDL first é–‹ç™¼æµç¨‹è§’åº¦ï¼Œç°¡ä»‹æ­¤å¯ä»¥å–ä»£å‚³çµ± ORM çš„ DB toolkitã€‚"}}}]}},"pageContext":{"postPath":"blog/20190906","translations":[{"hreflang":"en","path":"/blog/20190906"}]}}}