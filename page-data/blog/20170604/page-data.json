{"componentChunkName":"component---src-templates-post-post-jsx","path":"/blog/20170604","result":{"data":{"markdownRemark":{"html":"<p>最近稍微看了一下推播通知的部分，這邊簡單分享一下我看的相關資源以及我的待看清單。XD<br>\n如果真的有實作有機會再補上筆記…</p>\n<blockquote>\n<p>隨著行動和穿載裝置的興起，推播通知 (Push Notification) 成為維繫 App 用戶關係相當有力的工具。<br>\n<a href=\"%E7%B0%A1%E5%96%AE4%E6%AD%A5%E9%A9%9F%EF%BC%8CApp%E6%8E%A8%E6%92%AD%E4%B8%8D%E6%83%B1%E4%BA%BA%E9%82%84%E6%89%BE%E5%9B%9E%E7%94%A8%E6%88%B6%E7%9A%84%E5%BF%83\">簡單 4 步驟，App 推播不惱人還找回用戶的心</a></p>\n</blockquote>\n<h2>Service Worker</h2>\n<p>是一種由 Javascript 編寫的瀏覽器端代理腳本，位於瀏覽器和服務器之間（後台運行的腳本，環境與一般腳本不同），不能直接參與 web 的交互行為。Service Worker 的事件驅動和可以用來管理緩存，使得 web app 擁有與 native app 相同的離線體驗、消息推送、後台自動更新等體驗。  </p>\n<p><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/API/ServiceWorker\" target=\"_blank\" rel=\"nofollow\">MDN ServiceWorker</a><br>\n<a href=\"https://read01.com/AARPmO.html\" target=\"_blank\" rel=\"nofollow\">Service Worker:讓網頁無網絡也能訪問</a><br>\n<a href=\"https://read01.com/NA4oxP.html\" target=\"_blank\" rel=\"nofollow\">PWA 實踐：理解和創建 Service Worker 腳本</a>  </p>\n<h2>Progressive Web App (PWA)</h2>\n<p><a href=\"https://developers.google.com/web/fundamentals/getting-started/codelabs/push-notifications/?hl=zh-tw\" target=\"_blank\" rel=\"nofollow\">Adding Push Notifications to a Web App</a><br>\n<a href=\"http://ithelp.ithome.com.tw/users/20071512/ironman/1222\" target=\"_blank\" rel=\"nofollow\">30 天 Progressive Web App 學習筆記</a></p>\n<h2>Firebase Cloud Messaging (FCM)</h2>\n<p>發送通知到 Android/ iOS 手機。</p>\n<h2>Google Cloud Messaging (GCM)</h2>\n<p>FCM 的前身。</p>\n<p>我是跟著 Google Developers 的這篇 Adding Push Notifications to a Web App 照做的，步驟單純且很詳細。<br>\n這邊可以參考不同語言的 Web Push 寫法，我是在 Webform 的 Button 用 C# 寫的，有成功 😀<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 378px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA7UlEQVQY04WQzUrDQBSFs/KdXCq4sLhxLYjVne/iA7jyAVwLIvgCQjGxFVdtnP5gpclMUkwykyb5nMkioFi8cDiXA/e7l+tdTyP2BhMOBiH71q/ECqoNX3mOMQZdFGRZRlVVuGqaZqvqusY7fRF4dz6Xbwu8+4CeL0DnzD+WqCRhaV3MZhSF7oB/lcvdUq8/nLL7NG7DYws7CizQaFZxTKIkkXWlFErGxFJ2wN/gDnjiLnwYcvE6Z+dxxOHzO2wMkUpYr1OkhaRp+mNwm1rg7SLizJ9wHoT0/ZAb8UmjdftD9zun3PbaZv+pLEu+AW67cYfVeIekAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"push\"\n        title=\"push\"\n        src=\"/static/0c692ca552c4f181b8c7e03433b36647/0dc55/push.png\"\n        srcset=\"/static/0c692ca552c4f181b8c7e03433b36647/3e256/push.png 250w,\n/static/0c692ca552c4f181b8c7e03433b36647/0dc55/push.png 378w\"\n        sizes=\"(max-width: 378px) 100vw, 378px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<deckgo-highlight-code csharp  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\"  highlight-lines=\"\">\n          <code slot=\"code\">protected void cmdQuery_Click(object sender, EventArgs e)\n{\n    var pushEndpoint = @&quot;https://fcm.googleapis.com/fcm/send/cAKHtKxF4lI...&quot;;\n    var p256dh = @&quot;BGYGZ_M9LVg0Ib...&quot;;\n    var auth = @&quot;vE44l...&quot;;\n\n    var subject = @&quot;mailto:example@example.com&quot;;\n    var publicKey = @&quot;BK8juAE3Hgvqaef297gFJPm...&quot;;\n    var privateKey = @&quot;Qe8qv7BmIzxGOer70i4...&quot;;\n\n    var subscription = new PushSubscription(pushEndpoint, p256dh, auth);\n\n    var options = new Dictionary&lt;string, object&gt;();\n    options[&quot;vapidDetails&quot;] = new VapidDetails(subject, publicKey, privateKey);\n    //options[&quot;gcmAPIKey&quot;] = @&quot;[your key here]&quot;;\n    var payload = &quot;{\\&quot;body\\&quot;: \\&quot;Yay it works From C#.\\&quot;,\\&quot;icon\\&quot;: \\&quot;images/icon.png\\&quot;,\\&quot;badge\\&quot;: \\&quot;images/badge.png\\&quot;}&quot;;\n\n    var webPushClient = new WebPushClient();\n    try\n    {\n        webPushClient.SendNotification(subscription, payload, options);\n    }\n    catch (WebPushException exception)\n    {\n        Console.WriteLine(&quot;Http STATUS code&quot; + exception.StatusCode);\n    }\n}</code>\n        </deckgo-highlight-code>","timeToRead":2,"frontmatter":{"title":"Web App 推播通知","date":"04 Jun 2017","tags":["asp.net"],"path":"blog/20170604","excerpt":"隨著行動和穿載裝置的興起，推播通知 (Push Notification) 成為維繫App用戶關係相當有力的工具"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"path":"blog/20210110","title":"Pop Quiz","tags":["javascript"],"excerpt":"記錄踩到的陷阱題。"}}},{"node":{"frontmatter":{"path":"blog/20210109-3","title":"REST / RESTful & HTTP Methods","tags":["javascript"],"excerpt":"簡易整理。"}}},{"node":{"frontmatter":{"path":"blog/20191107","title":"Javascript Event loop - macro task & micro task","tags":["javascript"],"excerpt":"介紹 Event loop 容易混淆的異步任務 macro task & micro task。"}}},{"node":{"frontmatter":{"path":"blog/20210109","title":"Response Set-Cookie 無效","tags":["apollo"],"excerpt":"記錄個之前在和同事們弄 Side project 時犯蠢遇到的問題與解決方式。"}}},{"node":{"frontmatter":{"path":"blog/20200518","title":"常用 NoSQL 雲端資料庫 - Part 1 MongoDB","tags":["mongodb"],"excerpt":"簡介 Relational/NoSQL database、mongoose ORM 寫 mongo CRUD API。"}}},{"node":{"frontmatter":{"path":"blog/20180521","title":"Web 常見攻擊手法","tags":["security"],"excerpt":"擁有基本的資安觀念保護好自家資料和 user 使用環境是開發人員重要的一點。"}}},{"node":{"frontmatter":{"path":"blog/20190707","title":"JavaScript HTML5 Web Worker & CRA 使用踩雷","tags":["javascript"],"excerpt":"JavaScript 是單執行緒、單線程的程式語言，所有的程式碼片段都會在堆疊中被執行，Web worker 相當於可讓主線程開其他 thread。"}}},{"node":{"frontmatter":{"path":"blog/20180514","title":"JavaScript 中 this 指向","tags":["javascript"],"excerpt":"簡介 this 指向的六種情況。"}}},{"node":{"frontmatter":{"path":"blog/20190108","title":"JavaScript 認識非同步 Callback, Promise, async/await","tags":["javascript"],"excerpt":"Asynchronous 非同步的不同寫法的整理筆記。"}}},{"node":{"frontmatter":{"path":"blog/20170728","title":"WebForm 註冊 JavaScript","tags":["asp.net","javascript"],"excerpt":"動態產生JS在目前公司專案中是滿常用到的小技巧，不同的用法會產生在Web Page 的不同位置而有直譯式語言的前後順序差。"}}},{"node":{"frontmatter":{"path":"blog/20170714","title":"WebForm 使用 reCAPTCHA 驗證","tags":["asp.net"],"excerpt":"這個我不是機器人驗證一定不陌生，滿多登入畫面會看到的，剛好今天接到把圖形驗證改為 reCAPTCHA 就順手記下。"}}},{"node":{"frontmatter":{"path":"blog/20190906","title":"初探 Storybook","tags":["javascript"],"excerpt":"初探這款能夠在開發前端元件或是函式庫的同時，可以快速地建立元件各種操作模式或是樣式的工具。"}}},{"node":{"frontmatter":{"path":"blog/20170421","title":"存取遠端 EventLog","tags":["asp.net","javascript"],"excerpt":"在公司中實作一個 Event log 的查詢工具。（之後來寫了 D3 呈現查詢異常查詢的部分）"}}},{"node":{"frontmatter":{"path":"blog/20170508","title":"WebForm 圖片上傳檢查","tags":["asp.net"],"excerpt":"開放上傳有可能被傳奇怪東西的風險，只檢查所看到的副檔名，謹慎來說似乎是不夠的。"}}},{"node":{"frontmatter":{"path":"blog/20210109-2","title":"IntersectionObserver","tags":["javascript"],"excerpt":"公司專案有個日期連動的 scroll 優化試驗，原先是監聽 scroll。"}}},{"node":{"frontmatter":{"path":"blog/20191125","title":"初探 RxJS（下）","tags":["rxjs"],"excerpt":"簡介上次未完的 RxJS 剩餘角色，和介紹目前公司後台專案使用的 redux-observable。"}}},{"node":{"frontmatter":{"path":"blog/20200630","title":"Express - Authentication, Authorization and Security","tags":["security","express"],"excerpt":"簡介 Express RESTful API Server 範例中 JWT 權限、授權相關。"}}},{"node":{"frontmatter":{"path":"blog/20200910","title":"Apollo Server 入門篇","tags":["apollo"],"excerpt":"快速複習去年分享的 GraphQL Schema 和 Client query 語法，並簡介如何以 Apollo Server 建立 GraphQL Server。"}}},{"node":{"frontmatter":{"path":"blog/20200527","title":"常用 NoSQL 雲端資料庫 - Part 2 Firebase","tags":["firebase"],"excerpt":"簡介 Google 提供的後端服務平臺（BaaS）中的兩種 DB，realtime database 和 cloud firestore。"}}},{"node":{"frontmatter":{"path":"blog/20190906-2","title":"React Hooks - useCallback, useMemo, useRef","tags":["reactjs"],"excerpt":"JavaScript 是單執行緒、單線程的程式語言，所有的程式碼片段都會在堆疊中被執行，Web worker 相當於可讓主線程開其他 thread。"}}},{"node":{"frontmatter":{"path":"blog/20190907","title":"GraphQL & Apollo Client","tags":["apollo"],"excerpt":"簡單介紹 React Client 端如何用 Apollo 對 GraphQL Server 做資料存取操作。"}}},{"node":{"frontmatter":{"path":"blog/20191017","title":"初探 RxJS（上）","tags":["rxjs"],"excerpt":"簡介相關的設計模式中的 Behavioral Pattern，再介紹 RxJS（先講 Observable）"}}},{"node":{"frontmatter":{"path":"blog/20190909","title":"Prisma - Schema, Data Model, Relations, Client","tags":["prisma"],"excerpt":"未來 Side project 可能會應用到的 SDL first 開發流程角度，簡介此可以取代傳統 ORM 的 DB toolkit。"}}}]}},"pageContext":{"postPath":"blog/20170604","translations":[{"hreflang":"en","path":"/blog/20170604"}]}},"staticQueryHashes":["4097791827"]}