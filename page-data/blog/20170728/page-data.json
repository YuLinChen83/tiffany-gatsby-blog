{"componentChunkName":"component---src-templates-post-post-jsx","path":"/blog/20170728","result":{"data":{"markdownRemark":{"html":"<p>動態產生 JS 在目前公司專案中是滿常用到的小技巧，不同的用法會產生在 Web Page 的不同位置而有直譯式語言的前後順序差。（跟在 C# 寫的順序無關）<br>\n一般 Web 比較常注意的 head tag 內的 js 會取不到 body 內的 DOM，且會因載入時間拖慢 DOM 出現的速度，所以大多會放在</body>前面，網路上有相當多資訊及相關文章，這邊就不多做說明了。  </p>\n<p>先來看看 MSDN: <a href=\"https://docs.microsoft.com/en-us/previous-versions/ms178207(v=vs.140)?redirectedfrom=MSDN\" target=\"_blank\" rel=\"nofollow\">To add client script to an ASP.NET Web page dynamically</a></p>\n<table>\n<thead>\n<tr>\n<th>Method</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.clientscriptmanager.registerclientscriptblock?redirectedfrom=MSDN&#x26;view=netframework-4.8#overloads\" target=\"_blank\" rel=\"nofollow\">RegisterClientScriptBlock</a></td>\n<td>Adds a script block to the top of the page. You create the script as a string, and then pass it to the method, which adds it to the page. You can use this method to insert any script into the page. Note that the script might be rendered into the page before all the elements are finished; therefore, you might not be able to reference all the elements on the page from the script.</td>\n</tr>\n<tr>\n<td><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.clientscriptmanager.registerclientscriptinclude?redirectedfrom=MSDN&#x26;view=netframework-4.8#overloads\" target=\"_blank\" rel=\"nofollow\">RegisterClientScriptInclude</a></td>\n<td>Similar to the RegisterClientScriptBlock method, but adds a script block that references an external .js file. The include file is added before any other dynamically added script; therefore, you might not be able to reference some elements on the page.</td>\n</tr>\n<tr>\n<td><a href=\"https://msdn.microsoft.com/en-us/library/system.web.ui.clientscriptmanager.registerstartupscript.aspx\" target=\"_blank\" rel=\"nofollow\">RegisterStartupScript</a></td>\n<td>Adds a script block into the page that executes when the page finishes loading but before the page’s onload event is raised. The script is typically not created as an event handler or function; it generally includes only the statements you want to execute once.</td>\n</tr>\n<tr>\n<td><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.clientscriptmanager.registeronsubmitstatement?redirectedfrom=MSDN&#x26;view=netframework-4.8#System_Web_UI_ClientScriptManager_RegisterOnSubmitStatement_System_Type_System_String_System_String_\" target=\"_blank\" rel=\"nofollow\">RegisterOnSubmitStatement</a></td>\n<td>Adds script that executes in response to the page’s onsubmit event. The script is executed before the page is submitted, and gives you an opportunity to cancel the submission.</td>\n</tr>\n</tbody>\n</table>\n<p>其他有遇到的相關方法會再加入進來簡略紀錄，若有理解錯誤也請多指教 🙂</p>\n<deckgo-highlight-code csharp  terminal=\"carbon\" theme=\"monokai\" line-numbers=\"true\"  highlight-lines=\"\">\n          <code slot=\"code\">protected void Page_Load(object sender, EventArgs e)\n{\n    if (!IsPostBack)\n    {\n        //會render在form tag內的上面\n        Page.ClientScript.RegisterClientScriptBlock(this.GetType(), &quot;ScriptBlock&quot;, &quot;alert(&#39;RegisterClientScriptBlock&#39;)&quot;, true);\n\n        //會render在form tag內的最下面 (control render完後)\n        Page.ClientScript.RegisterStartupScript(this.GetType(), &quot;StartupScript&quot;, &quot;alert(&#39;RegisterStartupScript&#39;)&quot;, true);\n\n        //動態引入js檔\n        Page.ClientScript.RegisterClientScriptInclude(this.GetType(), &quot;ClientScriptInclude&quot;, Page.ResolveUrl(&quot;~/script/myscript.js&quot;));\n\n        //server control在server 端加內容為js的attribute\n        cmdQuery.Attributes.Add(&quot;onclick&quot;, &quot;alert(&#39;Button onclick&#39;);&quot;);\n\n        //會render到 head runat=&quot;server&quot; 內\n        if (Page.Header.FindControl(&quot;HeadScript&quot;) == null)\n        {\n            string myIncludeTemplate = &quot;\\n&quot;;\n            string myIncludeLocation = Page.ClientScript.GetWebResourceUrl(GetType(), &quot;myscript.js&quot;);\n            LiteralControl myInclude = new LiteralControl(String.Format(myIncludeTemplate, myIncludeLocation));\n            myInclude.ID = &quot;HeadScript&quot;;\n            Page.Header.Controls.Add(myInclude);\n        }\n\n        //會render 在body tag 的最上面\n        Response.Write(&quot;Response.Write Content&quot;);\n    }\n}</code>\n        </deckgo-highlight-code>","timeToRead":3,"frontmatter":{"title":"WebForm 註冊 JavaScript","date":"28 Jul 2017","tags":["asp.net","javascript"],"path":"blog/20170728","excerpt":"動態產生JS在目前公司專案中是滿常用到的小技巧，不同的用法會產生在Web Page 的不同位置而有直譯式語言的前後順序差。"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"path":"blog/20210110","title":"Pop Quiz","tags":["javascript"],"excerpt":"記錄踩到的陷阱題。"}}},{"node":{"frontmatter":{"path":"blog/20210109-3","title":"REST / RESTful & HTTP Methods","tags":["javascript"],"excerpt":"簡易整理。"}}},{"node":{"frontmatter":{"path":"blog/20191107","title":"Javascript Event loop - macro task & micro task","tags":["javascript"],"excerpt":"介紹 Event loop 容易混淆的異步任務 macro task & micro task。"}}},{"node":{"frontmatter":{"path":"blog/20210109","title":"Response Set-Cookie 無效","tags":["apollo"],"excerpt":"記錄個之前在和同事們弄 Side project 時犯蠢遇到的問題與解決方式。"}}},{"node":{"frontmatter":{"path":"blog/20200518","title":"常用 NoSQL 雲端資料庫 - Part 1 MongoDB","tags":["mongodb"],"excerpt":"簡介 Relational/NoSQL database、mongoose ORM 寫 mongo CRUD API。"}}},{"node":{"frontmatter":{"path":"blog/20180521","title":"Web 常見攻擊手法","tags":["security"],"excerpt":"擁有基本的資安觀念保護好自家資料和 user 使用環境是開發人員重要的一點。"}}},{"node":{"frontmatter":{"path":"blog/20190707","title":"JavaScript HTML5 Web Worker & CRA 使用踩雷","tags":["javascript"],"excerpt":"JavaScript 是單執行緒、單線程的程式語言，所有的程式碼片段都會在堆疊中被執行，Web worker 相當於可讓主線程開其他 thread。"}}},{"node":{"frontmatter":{"path":"blog/20180514","title":"JavaScript 中 this 指向","tags":["javascript"],"excerpt":"簡介 this 指向的六種情況。"}}},{"node":{"frontmatter":{"path":"blog/20190108","title":"JavaScript 認識非同步 Callback, Promise, async/await","tags":["javascript"],"excerpt":"Asynchronous 非同步的不同寫法的整理筆記。"}}},{"node":{"frontmatter":{"path":"blog/20170714","title":"WebForm 使用 reCAPTCHA 驗證","tags":["asp.net"],"excerpt":"這個我不是機器人驗證一定不陌生，滿多登入畫面會看到的，剛好今天接到把圖形驗證改為 reCAPTCHA 就順手記下。"}}},{"node":{"frontmatter":{"path":"blog/20170604","title":"Web App 推播通知","tags":["asp.net"],"excerpt":"隨著行動和穿載裝置的興起，推播通知 (Push Notification) 成為維繫App用戶關係相當有力的工具"}}},{"node":{"frontmatter":{"path":"blog/20190906","title":"初探 Storybook","tags":["javascript"],"excerpt":"初探這款能夠在開發前端元件或是函式庫的同時，可以快速地建立元件各種操作模式或是樣式的工具。"}}},{"node":{"frontmatter":{"path":"blog/20170421","title":"存取遠端 EventLog","tags":["asp.net","javascript"],"excerpt":"在公司中實作一個 Event log 的查詢工具。（之後來寫了 D3 呈現查詢異常查詢的部分）"}}},{"node":{"frontmatter":{"path":"blog/20170508","title":"WebForm 圖片上傳檢查","tags":["asp.net"],"excerpt":"開放上傳有可能被傳奇怪東西的風險，只檢查所看到的副檔名，謹慎來說似乎是不夠的。"}}},{"node":{"frontmatter":{"path":"blog/20210109-2","title":"IntersectionObserver","tags":["javascript"],"excerpt":"公司專案有個日期連動的 scroll 優化試驗，原先是監聽 scroll。"}}},{"node":{"frontmatter":{"path":"blog/20191125","title":"初探 RxJS（下）","tags":["rxjs"],"excerpt":"簡介上次未完的 RxJS 剩餘角色，和介紹目前公司後台專案使用的 redux-observable。"}}},{"node":{"frontmatter":{"path":"blog/20200630","title":"Express - Authentication, Authorization and Security","tags":["security","express"],"excerpt":"簡介 Express RESTful API Server 範例中 JWT 權限、授權相關。"}}},{"node":{"frontmatter":{"path":"blog/20200910","title":"Apollo Server 入門篇","tags":["apollo"],"excerpt":"快速複習去年分享的 GraphQL Schema 和 Client query 語法，並簡介如何以 Apollo Server 建立 GraphQL Server。"}}},{"node":{"frontmatter":{"path":"blog/20200527","title":"常用 NoSQL 雲端資料庫 - Part 2 Firebase","tags":["firebase"],"excerpt":"簡介 Google 提供的後端服務平臺（BaaS）中的兩種 DB，realtime database 和 cloud firestore。"}}},{"node":{"frontmatter":{"path":"blog/20190906-2","title":"React Hooks - useCallback, useMemo, useRef","tags":["reactjs"],"excerpt":"JavaScript 是單執行緒、單線程的程式語言，所有的程式碼片段都會在堆疊中被執行，Web worker 相當於可讓主線程開其他 thread。"}}},{"node":{"frontmatter":{"path":"blog/20190907","title":"GraphQL & Apollo Client","tags":["apollo"],"excerpt":"簡單介紹 React Client 端如何用 Apollo 對 GraphQL Server 做資料存取操作。"}}},{"node":{"frontmatter":{"path":"blog/20191017","title":"初探 RxJS（上）","tags":["rxjs"],"excerpt":"簡介相關的設計模式中的 Behavioral Pattern，再介紹 RxJS（先講 Observable）"}}},{"node":{"frontmatter":{"path":"blog/20190909","title":"Prisma - Schema, Data Model, Relations, Client","tags":["prisma"],"excerpt":"未來 Side project 可能會應用到的 SDL first 開發流程角度，簡介此可以取代傳統 ORM 的 DB toolkit。"}}}]}},"pageContext":{"postPath":"blog/20170728","translations":[{"hreflang":"en","path":"/blog/20170728"}]}},"staticQueryHashes":["4097791827"]}